default_target: "groups-all"

params:
  config_dir: "../im/svg/config"

configs:
- "build/blizzard"

variables:
- "local/variables"

templates:
- "local/templates"
- "{{config_dir}}/templates"

compiles:
- name: "html"
  configs:
  - "local/configs"
  - "{{config_dir}}/configs"
- name: "colors"
  configs:
  - "{{config_dir}}/colors"
- name: "blizzard"
  configs:
  - "local/configs"
- name: "blizzard-{class_name}"
  index_path: "{class_name}"

renders:
- name: "{class_name}-base"
  key: "class_page.html"
  as: "html_content"
  indent: 4
  no_file: true
  dependencies:
  - "compiles-blizzard-{class_name}"
  - "html"

- name: "index-base"
  key: "index.html"
  as: "html_content"
  indent: 4
  no_file: true
  dependencies:
  - "blizzard"

- name: "{title}.html"
  output_dir: "static"
  key: "basic.html"
  override_path: "html"
  dependencies:
  - "renders-{title}-base"
  - "renders-colors.css"
  - "renders-theme.css"
  - "html"

- name: "index.html"
  output_dir: "static"
  key: "basic.html"
  dependencies:
  - "renders-index-base"
  - "renders-colors.css"
  - "renders-theme.css"
  - "html"

- name: "colors.css"
  output_dir: "static/css"
  dependencies:
  - "colors"

- name: "theme.css"
  output_dir: "static/css"
  dependencies:
  - "colors"
  - "html"

groups:
- name: "sub-pages"
  dependencies:
  - "renders-death_knight.html"
  - "renders-demon_hunter.html"
  - "renders-druid.html"
  - "renders-hunter.html"
  - "renders-mage.html"
  - "renders-monk.html"
  - "renders-paladin.html"
  - "renders-priest.html"
  - "renders-rogue.html"
  - "renders-shaman.html"
  - "renders-warlock.html"
  - "renders-warrior.html"
- name: "all"
  dependencies:
  - "renders-index.html"
  - "groups-sub-pages"
