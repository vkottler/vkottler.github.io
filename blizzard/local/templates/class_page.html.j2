<div class="rows {{html["theme"]}}_primary_200 bg_{{html["theme"]}}_primary_900">
  <div class="spacer"></div>
  <div class="columns">
    <div class="spacer"></div>
    <div class="rows">
      <div class="spacer"></div>
      <img class="wow_icon" src="{{icon}}" alt="{{name}} Icon">
      <h1>{{name}}</h1>
      <div class="spacer"></div>
    </div>
    <div class="rows">
      <div class="spacer"></div>
      <div class="hmargin">
        Macros for each class's specialization are either gleaned from the
        talent tree itself (using the
        <a class="mono" href="https://pypi.org/project/blizzard-api/">blizzard-api</a>
        Python package) or have been manually curated. Not every specialization
        needs a "multiplex macro" for even a single talent row, so a "Generated"
        section may not be present.
      </div>
      <div class="spacer"></div>
    </div>
    {% if generic %}
    <div class="columns">
      <div class="rows">
        <div class="spacer"></div>
        <h2>Generic Macros</h1>
        <div class="spacer"></div>
      </div>
      <div class="rows">
        <div class="spacer"></div>
        <div>TODO</div>
        <div class="spacer"></div>
      </div>
    </div>
    {% endif %}
    <hr class="bg_{{html["theme"]}}_primary_200">
    <div class="columns">
    {% for spec in specs %}
      <div class="rows">
        <div class="spacer"></div>
        <img class="wow_icon" src="{{spec["icon"]}}" alt="{{name}} {{spec["name"]}} Icon">
        <h2>{{spec["name"]}} ({{spec["role"]}})</h1>
        <div class="spacer"></div>
      </div>
      <div class="rows">
        <div class="spacer"></div>
        <h3>Manually Added</h3>
        <div class="spacer"></div>
      </div>
      <div class="rows">
        <div class="spacer"></div>
        <div>TODO</div>
        <div class="spacer"></div>
      </div>
      {% if spec["has_macros"] %}
      <div class="rows">
        <div class="spacer"></div>
        <h3>Generated</h3>
        <div class="spacer"></div>
      </div>
      {% for row in spec["talent_rows"] %}
      {% if row["macro"] %}
      <div class="rows">
        <div class="spacer"></div>
        <h4>Level {{row["level"]}} Row</h4>
        <div class="spacer"></div>
      </div>
      <div class="rows">
        <div class="spacer"></div>
        {% for talent_idx, talent_data in row["talents"].items() %}
        <div class="columns">
          <div class="spacer"></div>
          <div class="mono"><b>{{talent_idx}}</b></div>
          <div class="spacer"></div>
        </div>
        {% if talent_data["active"] %}
        <img class="wow_icon highlighted" src="{{talent_data["icon"]}}"
             alt="{{name}} {{talent_data["name"]}} Icon">
        {% else %}
        <img class="wow_icon" src="{{talent_data["icon"]}}"
             alt="{{name}} {{talent_data["name"]}} Icon">
        {% endif %}
        {% endfor %}
        <div class="spacer"></div>
      </div>
      <div class="rows">
        <div class="spacer"></div>
        <textarea readonly cols="80" rows="4" id="{{name}}_{{spec["name"]}}_{{row["level"]}}"
         class="mono {{html["theme"]}}_primary_200 bg_{{html["theme"]}}_primary_700">
        </textarea>
        <div class="spacer"></div>
      </div>
      {% endif %}
      {% endfor %}
      {% endif %}
      <hr class="bg_{{html["theme"]}}_primary_200">
    {% endfor %}
    </div>
    <div class="spacer"></div>
  </div>
  <div class="spacer"></div>
</div>
<script>
  let elem;
  let inner
  {% for spec in specs %}
  {% for row in spec["talent_rows"] %}
  elem = document.getElementById("{{name}}_{{spec["name"]}}_{{row["level"]}}");
  if (elem != null) {
    inner = "";
    {% for line in row["macro_lines"] %}
    inner += "{{line}}" + String.fromCharCode(13, 10);
    {% endfor %}
    elem.innerHTML = inner;
  }
  {% endfor %}
  {% endfor %}
</script>
